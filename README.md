# Lagom website

This project is responsible for generating the Lagom website.

The Lagom website is a static website deployed to GitHub pages that is generated from this project.  This project uses twirl for templating, along with sbt-web to process web assets and webjar for dependencies.

The documentation is generated from the lagom main project as unstyled HTML snippets, along with javadocs/scaladocs, and an index file that describes the navigation structure of the documentation.  Each time the website is generated, the documentation pages are recreated from these HTML snippets, allowing the layout and styling to be kept up to date, and allowing links between versions of the documentation.

## Project layout

    - src
      - docs
        - 1.0.x - the documentation for each version of Lagom
          - index.json - the index for this version of the docs
          - api - api docs
      - main
        - twirl - twirl templates for the documentation
        - assets - compiled assets, eg, stylus stylesheets
        - public - static assets, eg images
        - scala - the Scala source code that actually does the documentation generation

## Developing the website

A static version of the website can be generated by running `sbt web-stage`.  This will output the entire website to the `target/web/stage` directory.  You should start a simple HTTP server from here to serve the docs, eg using `python -m SimpleHTTPServer`.  The `sbt ~web-stage` command can be used to tell sbt to watch for changes and rebuild the site whenever anything changes.

For convenience, `sbt run` does the above for you, starting the python static HTTP server in the stage directory, and then watching the filesystem for changes and rebuilding the site whenever it changes.

## Deploying the documentation

A new version of the markdown docs can be generated by running `sbt markdownGenerateAllDocumentation` in the `docs` directory of the main Lagom project, this outputs the documentation to `docs/target/markdown-generated-docs`.  This can be then copied into the corresponding `src/docs/<version>` directory in this project.

A new version of the API docs can be generated by running `sbt unidoc` in the main Lagom project.  This will output the javadocs in `target/javaunidoc`, which can then be copied into the corresponding `src/docs/<version>/api/java` directory in this project.
